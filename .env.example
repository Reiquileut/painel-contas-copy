# =============================================================================
# Copy Trade Dashboard - Environment Variables
# =============================================================================
# Copy this file to .env and fill in the values.
# For EasyPanel: configure these as environment variables in each service.
# =============================================================================

# --- App Environment ---
# development | test | production
# Em EasyPanel/producao: usar production
APP_ENV=development

# --- Database (usado pelo docker-compose e backend) ---
# Para EasyPanel: use a connection string do servico Postgres interno
DB_USER=copytrade
DB_PASSWORD=CHANGE_ME_STRONG_PASSWORD
DATABASE_URL=postgresql://copytrade:CHANGE_ME_STRONG_PASSWORD@db:5432/copytrade

# --- Redis (rate limit + sessao distribuida) ---
# Em producao e obrigatorio para o backend subir
# Para EasyPanel: redis://NOME_SERVICO_REDIS:6379/0
# Para docker-compose local: redis://redis:6379/0
REDIS_URL=redis://redis:6379/0

# --- JWT Authentication ---
# Gerar com: openssl rand -base64 32
JWT_SECRET_KEY=CHANGE_ME_JWT_SECRET
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=15
REFRESH_TOKEN_EXPIRE_DAYS=7

# --- Encryption Key (Fernet - para senhas de contas) ---
# Gerar com: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
ENCRYPTION_KEY=CHANGE_ME_FERNET_KEY
PASSWORD_REVEAL_TTL_SECONDS=30

# --- CORS Origins (separados por virgula) ---
# Para producao: usar o dominio real do frontend (com https)
CORS_ORIGINS=http://localhost:3000,http://localhost:5173

# --- API URL (usado pelo frontend para conectar ao backend) ---
# Para producao: usar o dominio real da API (com https)
# Pode ser configurado como env var no container (runtime) ou como build arg
VITE_API_URL=http://localhost:8000

# --- Admin (criado automaticamente no primeiro startup) ---
ADMIN_USERNAME=admin
ADMIN_PASSWORD=CHANGE_ME_ADMIN_PASSWORD
ADMIN_EMAIL=admin@copytrade.app

# --- Janela de deprecacao da API v1 (opcional) ---
V1_DEPRECATION_START=2026-02-06T00:00:00+00:00
V1_DEPRECATION_WINDOW_DAYS=14

# --- Portas (altere se houver conflito com outros servicos) ---
# No EasyPanel: as portas internas nao conflitam (containers isolados).
# Essas variaveis sao para docker-compose local.
DB_PORT=5432
REDIS_PORT=6379
BACKEND_PORT=8000
FRONTEND_PORT=3000
